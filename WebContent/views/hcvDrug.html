<div ng-cloak ng-app="hcvApp">
	<h2>{{drugId}}</h2>
	{{drugRenderResult.drug.category.displayName}}
	<br/>	
	{{drugRenderResult.drug.companyCode ? "Company code: "+drugRenderResult.drug.companyCode : ""}}
	<h4>Resistance Findings</h4>
	<div ng-show="drugResistanceFindings.length == 0">
	No resistance findings collated
	</div>
	<div ng-show="drugResistanceFindings.length > 0">
		<paging-buttons paging-context="pagingContext"></paging-buttons>
		<p>Findings {{pagingContext.firstItemIndex}} to {{pagingContext.lastItemIndex}} of {{pagingContext.totalItems}}</p>
	
		<table class="table table-nonfluid table-striped table-bordered">
			<thead>
				<tr>
					<th rowspan=2>Virus Protein</th>		
					<th rowspan=2>Resistant Substitution(s)</th>		
					<th rowspan=2>Replicon clade</th>		
					<th colspan=2>EC<sub>50</sub> Fold Change</th>		
					<th rowspan=2>Reference</th>
				</tr>
				<tr>
					<th>Min</th>		
					<th>Max</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="finding in drugResistanceFindings track by $index">
					<td>{{finding['variation.featureLoc.feature.name']}}</td>
					<td><a href="#project/rav/{{finding['variation.featureLoc.referenceSequence.name']}}/{{finding['variation.featureLoc.feature.name']}}/{{finding['variation.name']}}">{{finding['variation.rav_substitutions']}}</a></td>
					<td><a href="#project/alignment/{{finding['replicon_clade.name']}}">{{finding['replicon_clade.displayName']}}</td>
					<td>{{finding['min_fold_change'] ? toFixed(finding['min_fold_change']) : handleNull(finding['min_fold_change'])}}</td>
					<td>{{finding['max_fold_change'] ? toFixed(finding['max_fold_change']) : handleNull(finding['max_fold_change'])}}</td>
					<td><a href="#project/drug_resistance_publication/{{finding['drug_resistance_publication.id']}}">
						{{finding['drug_resistance_publication.display_name']}}</a></td>
				</tr>
			</tbody>
		</table>
	</div>


</div>